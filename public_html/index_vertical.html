<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>MP4 | WC & Viewports</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <link rel="icon" href="favicon.ico">
        <link rel="stylesheet" href="css/global.css">

        <!-- Project dependencies: Angular, JQuery, Color picker, glMatrix -->
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.7/angular.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
        <script type="text/javascript" src="src/lib/gl-matrix.js"></script>

        <!-- Engine code -->
        <script type="text/javascript" src="src/Engine/Core/Engine_Core.js"></script>
        <script type="text/javascript" src="src/Engine/Core/Engine_VertexBuffer.js"></script>
        <script type="text/javascript" src="src/Engine/Core/Engine_MouseSupport.js"></script>
        <script type="text/javascript" src="src/Engine/Camera.js"></script>
        <script type="text/javascript" src="src/Engine/Camera_Mouse.js"></script>
        <script type="text/javascript" src="src/Engine/Renderable.js"></script>
        <script type="text/javascript" src="src/Engine/SquareRenderable.js"></script>
        <script type="text/javascript" src="src/Engine/SimpleShader.js"></script>
        <script type="text/javascript" src="src/Engine/Transform.js"></script>
        <script type="text/javascript" src="src/GUI/CanvasMouseSupport.js"></script>
        <script type="text/javascript" src="src/GUI/SquareArea.js"></script>
        
        <script type="text/javascript" src="src/lib/CollisionHelper.js"></script>

        <!-- Application model -->
        <script type="text/javascript" src="src/DrawManager.js"></script>

        <!-- Main controller -->
        <script type="text/javascript" src="src/controller.js"></script>
    </head>
    <body ng-app="mp4" ng-controller="mp4Controller">
        <h1 class="page-title">MP4 WC & Viewports</h1>

        <div class="panel">
            <table class="data-table">
                <tr>
                    <td class="view-controls divider-right">
                        <h3>Minimap Controls</h3>
                        <table>
                            <tr>
                                <th colspan="4">World Coordinate:</th>
                            </tr>
                            <tr>
                                <td>Width</td>
                                <td colspan="3">
                                    <input type="range" min="0" max="200" ng-model="wcWidth" ng-change="onViewGuiChange('wcw')">
                                    <input type="number" min="0" max="200" ng-model="wcWidth" ng-change="onViewGuiChange('wcw')" string-to-number>
                                </td>
                            </tr>
                            <tr>
                                <td>X</td>
                                <td colspan="3">
                                    <input type="range" min="-200" max="200" ng-model="wcPosX" ng-change="onViewGuiChange('wcx')">
                                    <input type="number" min="-200" max="200" ng-model="wcPosX" ng-change="onViewGuiChange('wcx')" string-to-number>
                                </td>
                            </tr>
                            <tr>
                                <td>Y</td>
                                <td colspan="3">
                                    <input type="range" min="-200" max="200" ng-model="wcPosY" ng-change="onViewGuiChange('wcy')">
                                    <input type="number" min="-200" max="200" ng-model="wcPosY" ng-change="onViewGuiChange('wcy')" string-to-number>
                                </td>
                            </tr>
                            <tr>
                                <td colspan="4">
                                    <hr>
                                </td>
                            </tr>
                            <tr>
                                <th colspan="4">Viewport:</th>
                            </tr>
                            <tr>
                                <td>Left</td>
                                <td>
                                    <input type="range" min="0" max="800" ng-model="vpLeft" ng-change="onViewGuiChange('vpl')"> 
                                    <input type="number" min="0" max="800" ng-model="vpLeft" ng-change="onViewGuiChange('vpl')" string-to-number>
                                </td>

                                <td>Bottom</td>
                                <td>
                                    <input type="range" min="0" max="800" ng-model="vpBottom" ng-change="onViewGuiChange('vpb')">
                                    <input type="number" min="0" max="800" ng-model="vpBottom" ng-change="onViewGuiChange('vpb')" string-to-number>
                                </td>
                            </tr>
                            <tr>
                                <td>Width</td>
                                <td>
                                    <input type="range" min="0" max="800" ng-model="vpWidth" ng-change="onViewGuiChange('vpw')"> 
                                    <input type="number" min="0" max="800" ng-model="vpWidth" ng-change="onViewGuiChange('vpw')" string-to-number>
                                </td>
                                
                                <td>Height</td>
                                <td>
                                    <input type="range" min="0" max="800" ng-model="vpHeight" ng-change="onViewGuiChange('vph')">
                                    <input type="number" min="0" max="800" ng-model="vpHeight" ng-change="onViewGuiChange('vph')" string-to-number>
                                </td>
                            </tr>
                        </table>
                    </td>
                    <td>
                        <h3>Mouse Positions</h3>
                        Client: ({{clientX + "," + clientY}})
                        <br>
                        Canvas: ({{canvasX + "," + canvasY}})
                        <br>
                        Viewport: ({{vpX + "," + vpY}})

                        <hr>

                        Camera: {{targetCam}}
                        <br>
                        Camera: ({{camX + "," + camY}})
                        
                        <hr>
                        
                        <h3>Options</h3>
                        <label>
                            Border thickness:
                            <input type="number" min="1" max="5" string-to-number ng-model="borderThickness" ng-change="updateBorderThickness()">
                        </label>
                        <label>
                            Grabber size:
                            <input type="number" min="1" max="10" string-to-number ng-model="grabberSize" ng-change="updateGrabberSize()">
                        </label>
                    </td>
                </tr>
            </table>

            <canvas id="GLCanvas" width="{{CANVAS_SIZE[0]}}" height="{{CANVAS_SIZE[1]}}" ng-mousedown="onClientMouseClick($event)" ng-mouseup="onClientMouseUp()"
                    ng-mousemove="onClientMouseMove($event)" oncontextmenu="return false">
                Your browser does not support the HTML5 canvas.
            </canvas>
        </div>

        <footer>
            Created by Andrew Hoke for Kelvin Sung's CSS450 class. Â© 2016 All Rights Reserved.
        </footer>
    </body>
</html>
